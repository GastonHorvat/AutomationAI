---
/* COMPONENTE DE SECCIÓN DE PROCESO: Muestra el proceso de trabajo en 3 pasos con tarjetas responsivas */

// Importación del componente Icon para mostrar iconos SVG desde el paquete astro-icon
import { Icon } from 'astro-icon/components';

/**
 * Interface que define la estructura de cada paso del proceso
 * @property {number} number - Número secuencial del paso
 * @property {string} title - Título descriptivo del paso
 * @property {string} description - Descripción detallada del paso
 * @property {string[]} keyAreas - Array con las áreas clave o características del paso
 */
interface Step {
  number: number;
  title: string;
  description: string; // Descripción corta
  keyAreas: string[];  // Array para las 3 viñetas
}

/* Array de datos que define los 3 pasos del proceso con sus características */
const processStepsNew: Step[] = [
  {
    number: 1,
    title: "Analysis & Discovery",
    description: "We dive deep into your current challenges, objectives, and processes to pinpoint the highest-impact opportunities for AI-driven improvement.",
    keyAreas: [
        "Comprehensive Needs Assessment",
        "Workflow & Process Mapping",
        "Clear Objective Definition"
    ]
  },
  {
    number: 2,
    title: "Solution Design & Development",
    description: "We design a tailored AI strategy and develop the custom solution, ensuring a perfect fit and seamless integration with your existing systems for rapid ROI.",
    keyAreas: [
        "Tailored Solution Architecture",
        "Iterative & Agile Development",
        "Rigorous Quality Assurance"
    ]
  },
  {
    number: 3,
    title: "Deployment & Support",
    description: "We manage the solution deployment for smooth adoption and provide continuous support and optimization to ensure long-term success and growth.",
    keyAreas: [
        "Managed Rollout & Integration",
        "User Training & Adoption Support",
        "Proactive Optimization"
    ]
  }
];

---

<!-- SECCIÓN DE PROCESO: Con 3 pasos y nuevo contenido -->
<section class="process-section-new section-padding gradient-bg">
  <div class="container">
    <!-- Encabezado de sección con título y subtítulo -->
    <div class="process-header text-center">
      <h2 class="section-title-alt text-center">
        <span>Our Collaborative Process</span>
      </h2>
      
      <p class="process-subtitle">
        We follow a proven methodology to ensure exceptional results in every project, from initial analysis to ongoing support.
      </p>
    </div>

    <!-- Grid responsive de tarjetas de proceso -->
    <div class="new-process-grid">
      {processStepsNew.map(step => (
        <div class="new-process-card">
          <!-- Círculo con número de paso -->
          <div class="new-step-number-circle">
            <span class="new-step-number">{step.number}</span>
          </div>
          
          <div class="new-card-content">
            <h3 class="new-step-title">{step.title}</h3>
            <p class="new-step-text">{step.description}</p>
            
            <!-- Lista de áreas clave con iconos de check -->
            <ul class="new-step-checklist">
              {step.keyAreas.map(area => (
                <li class="new-checklist-item">
                  <div class="new-check-icon">
                    <Icon name="mdi:check-circle-outline" size={20} />
                  </div>
                  <span>{area}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  /* ESTILOS DE LA SECCIÓN PROCESO */
  .gradient-bg { background: linear-gradient(180deg, #f8faff 0%, #ffffff 100%); } /* Degradado vertical suave */
  .process-header { margin-bottom: 4rem; } /* Espacio entre encabezado y grid de tarjetas */
  .process-main-title { font-size: clamp(1.875rem, 4vw, 2.5rem); font-weight: 700; color: var(--text-dark); margin-bottom: 1rem; } /* Título responsive con negrita */
  .process-subtitle { font-size: 1.125rem; color: var(--text-medium); max-width: 56rem; margin-left: auto; margin-right: auto; line-height: 1.7; } /* Subtítulo centrado con ancho máximo */

  /* Grid de tarjetas: 1 columna en móvil */
  .new-process-grid {
    display: grid;
    grid-template-columns: 1fr; 
    gap: 5rem 2rem; /* Mayor espacio vertical que horizontal */
    position: relative;
    margin-top: 4rem;
  }

  /* 1 columna en tablets con mayor espacio horizontal */
  @media (min-width: 768px) {
    .new-process-grid {
      grid-template-columns: 1fr; 
      gap: 5rem 3rem; 
    }
  }

  /* 3 columnas en desktop */
  @media (min-width: 1024px) {
    .new-process-grid {
      grid-template-columns: repeat(3, 1fr); 
      gap: 5rem 2rem; 
    }
  }

  /* Tarjeta de proceso con sombra y borde */
  .new-process-card {
    background-color: var(--white);
    padding: 2rem;
    padding-top: 3rem; /* Espacio para el círculo del número */
    border-radius: 0.75rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
    border: 1px solid var(--border-color-soft);
    position: relative;
    z-index: 10;
    text-align: center;
    display: flex;
    flex-direction: column;
  }

  /* Círculo con número de paso */
  .new-step-number-circle {
    width: 4rem; height: 4rem; 
    background-color: var(--primary-color); 
    color: var(--white); 
    border-radius: 9999px; 
    display: flex; align-items: center; justify-content: center; 
    margin-bottom: 1.5rem; margin-left: auto; margin-right: auto; margin-top: -4rem; /* Posición elevada sobre la tarjeta */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); 
    position: relative; z-index: 11; 
    flex-shrink: 0; /* Mantiene tamaño */
  }
  
  .new-step-number { font-size: 1.25rem; font-weight: 700; line-height: 1; } /* Número en negrita */
  .new-card-content { display: flex; flex-direction: column; flex-grow: 1; } /* Contenedor flexible vertical */
  .new-step-title { font-size: 1.25rem; font-weight: 600; color: var(--text-dark); margin-bottom: 0.75rem; text-align: center; } /* Título semi-negrita */
  .new-step-text { color: var(--text-medium); margin-bottom: 1.5rem; text-align: center; font-size: 0.95rem; line-height: 1.6; flex-grow: 1; } /* Descripción centrada */
  
  /* Lista de áreas clave sin bullets */
  .new-step-checklist {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    text-align: left;
  }

  .new-checklist-item { display: flex; align-items: center; } /* Alineación de iconos y texto */
  .new-check-icon { width: 1.25rem; height: 1.25rem; display: flex; align-items: center; justify-content: center; color: var(--primary-color); margin-right: 0.5rem; flex-shrink: 0; } /* Icono de check */
  .new-check-icon svg { line-height: 1; vertical-align: middle; } /* Alineación del SVG */
  .new-checklist-item span { color: var(--text-medium); font-size: 0.95rem; line-height: 1.5; } /* Texto de área clave */
</style>